{% extends 'base.html' %}
{% block content %}
<div class="container text-center">
    <h2>Challenges</h2>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    {% for message in messages %}
    {% if message is iterable and message is not string %}
    {% for msg in messages %}
    <div class="alert alert-warning" role="alert">
        {{ msg }}
    </div>
    {% endfor %}
    {% else %}
    <div class="alert alert-warning" role="alert">
        {{ message }}
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}
    {% endwith %}
</div>
<div class="container">
    {% for row in grid  %}
    <div class="row mt-5">
        {% for challenge in row %}
        <div class="col">
            {% if loop.index == 1 %}
            <div class="card text-center mx-2">
                <div class="card-body">
                    <h5 class="card-title">{{ challenge.name }}</h5>
                </div>
            </div>
            {% else %}
            <div class="card text-center mx-2">
                <div class="card-body">
                    <h5 class="card-title">{{ challenge.name }}</h5>
                    <p class="card-text">Value: {{ challenge.value }} Points</p>
                    <p class="card-text">Required: {{ challenge.requirement }} Points</p>
                    <a href="{{ url_for('challenges.challenge', id=challenge.id) }}" class="stretched-link"></a>
                </div>
            </div>
            {% endif %}
        </div>
        {% endfor %}
        <div class="col-xl-12"></div>
    </div>
    {% endfor %}

</div>
{% endblock %}